
from datetime import timedelta, datetime
from dotenv import load_dotenv
from data_manager import DataManager
from flight_search import FlightSearch
from flight_data import FlightData
from notification_manager import NotificationManager


# ==================== Set up the Flight Search ====================
load_dotenv()
dm = DataManager()
fs = FlightSearch()
sheet_data = dm.get_data_from_table()
notifier = NotificationManager()

# ==================== Update the Airport Codes in Google Sheet ====================
for city in sheet_data:
    if city["iataCode"] == " ":
        code = fs.get_code(city_name=city["city"])
        new_data = {"iataCode": code}
        dm.add_data_to_table(row_id=city["id"], new_data=new_data)

# ==================== Search for Flights and Send Notifications ====================
origin = "WAW"
tomorrow = datetime.now() + timedelta(days=1)
six_month_from_today = datetime.now() + timedelta(days=(6 * 30))

for city in sheet_data:
    flights_to_city = fs.get_flight_data(destination=city["iataCode"], origin=origin, from_time=tomorrow, to_time=six_month_from_today)
    if flights_to_city:
        fd = FlightData(flights_to_city)
        cheapest_flights = fd.find_cheapest_flights()
        if cheapest_flights:
            [notifier.send_message(data) for data in cheapest_flights if city['lowestPrice'] < data['price']]

# flights ={"PAR": {'meta': {'count': 10, 'links': {'self': 'https://test.api.amadeus.com/v2/shopping/flight-offers?originLocationCode=WAW&destinationLocationCode=PAR&departureDate=2025-04-25&returnDate=2025-10-21&adults=1&nonStop=true&currencyCode=USD&max=10'}}, 'data': [{'type': 'flight-offer', 'id': '1', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-24', 'lastTicketingDateTime': '2025-04-24', 'numberOfBookableSeats': 4, 'itineraries': [{'duration': 'PT2H30M', 'segments': [{'departure': {'iataCode': 'WAW', 'at': '2025-04-25T07:20:00'}, 'arrival': {'iataCode': 'CDG', 'terminal': '2D', 'at': '2025-04-25T09:50:00'}, 'carrierCode': 'LO', 'number': '331', 'aircraft': {'code': '7M8'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT2H30M', 'id': '3', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT2H15M', 'segments': [{'departure': {'iataCode': 'CDG', 'terminal': '2D', 'at': '2025-10-21T07:05:00'}, 'arrival': {'iataCode': 'WAW', 'at': '2025-10-21T09:20:00'}, 'carrierCode': 'LO', 'number': '334', 'aircraft': {'code': 'E95'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT2H15M', 'id': '5', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'USD', 'total': '349.70', 'base': '224.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '349.70', 'additionalServices': [{'amount': '85.30', 'type': 'CHECKED_BAGS'}]}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': False}, 'validatingAirlineCodes': ['LO'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'USD', 'total': '349.70', 'base': '224.00'}, 'fareDetailsBySegment': [{'segmentId': '3', 'cabin': 'ECONOMY', 'fareBasis': 'VSAVI0', 'brandedFare': 'ECOSAVER', 'brandedFareLabel': 'ECONOMY SAVER', 'class': 'V', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'LAPTOP OR HANDBAG UP TO 85LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE ANYTIME', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ECO TO BUSINESS', 'isChargeable': True, 'amenityType': 'UPGRADES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '5', 'cabin': 'ECONOMY', 'fareBasis': 'LSAVI0', 'brandedFare': 'ECOSAVER', 'brandedFareLabel': 'ECONOMY SAVER', 'class': 'L', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'LAPTOP OR HANDBAG UP TO 85LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE ANYTIME', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ECO TO BUSINESS', 'isChargeable': True, 'amenityType': 'UPGRADES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}, {'type': 'flight-offer', 'id': '2', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-24', 'lastTicketingDateTime': '2025-04-24', 'numberOfBookableSeats': 4, 'itineraries': [{'duration': 'PT2H30M', 'segments': [{'departure': {'iataCode': 'WAW', 'at': '2025-04-25T20:15:00'}, 'arrival': {'iataCode': 'CDG', 'terminal': '2D', 'at': '2025-04-25T22:45:00'}, 'carrierCode': 'LO', 'number': '333', 'aircraft': {'code': 'E90'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT2H30M', 'id': '4', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT2H15M', 'segments': [{'departure': {'iataCode': 'CDG', 'terminal': '2D', 'at': '2025-10-21T07:05:00'}, 'arrival': {'iataCode': 'WAW', 'at': '2025-10-21T09:20:00'}, 'carrierCode': 'LO', 'number': '334', 'aircraft': {'code': 'E95'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT2H15M', 'id': '5', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'USD', 'total': '349.70', 'base': '224.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '349.70', 'additionalServices': [{'amount': '85.30', 'type': 'CHECKED_BAGS'}]}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': False}, 'validatingAirlineCodes': ['LO'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'USD', 'total': '349.70', 'base': '224.00'}, 'fareDetailsBySegment': [{'segmentId': '4', 'cabin': 'ECONOMY', 'fareBasis': 'VSAVI0', 'brandedFare': 'ECOSAVER', 'brandedFareLabel': 'ECONOMY SAVER', 'class': 'V', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'LAPTOP OR HANDBAG UP TO 85LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE ANYTIME', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ECO TO BUSINESS', 'isChargeable': True, 'amenityType': 'UPGRADES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '5', 'cabin': 'ECONOMY', 'fareBasis': 'LSAVI0', 'brandedFare': 'ECOSAVER', 'brandedFareLabel': 'ECONOMY SAVER', 'class': 'L', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'LAPTOP OR HANDBAG UP TO 85LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE ANYTIME', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ECO TO BUSINESS', 'isChargeable': True, 'amenityType': 'UPGRADES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}, {'type': 'flight-offer', 'id': '3', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-24', 'lastTicketingDateTime': '2025-04-24', 'numberOfBookableSeats': 7, 'itineraries': [{'duration': 'PT2H30M', 'segments': [{'departure': {'iataCode': 'WAW', 'at': '2025-04-25T07:20:00'}, 'arrival': {'iataCode': 'CDG', 'terminal': '2D', 'at': '2025-04-25T09:50:00'}, 'carrierCode': 'LO', 'number': '331', 'aircraft': {'code': '7M8'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT2H30M', 'id': '3', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT2H15M', 'segments': [{'departure': {'iataCode': 'CDG', 'terminal': '2D', 'at': '2025-10-21T19:45:00'}, 'arrival': {'iataCode': 'WAW', 'at': '2025-10-21T22:00:00'}, 'carrierCode': 'LO', 'number': '336', 'aircraft': {'code': '73H'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT2H15M', 'id': '7', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'USD', 'total': '349.70', 'base': '224.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '349.70', 'additionalServices': [{'amount': '85.30', 'type': 'CHECKED_BAGS'}]}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': False}, 'validatingAirlineCodes': ['LO'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'USD', 'total': '349.70', 'base': '224.00'}, 'fareDetailsBySegment': [{'segmentId': '3', 'cabin': 'ECONOMY', 'fareBasis': 'VSAVI0', 'brandedFare': 'ECOSAVER', 'brandedFareLabel': 'ECONOMY SAVER', 'class': 'V', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'LAPTOP OR HANDBAG UP TO 85LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE ANYTIME', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ECO TO BUSINESS', 'isChargeable': True, 'amenityType': 'UPGRADES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '7', 'cabin': 'ECONOMY', 'fareBasis': 'LSAVI0', 'brandedFare': 'ECOSAVER', 'brandedFareLabel': 'ECONOMY SAVER', 'class': 'L', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'LAPTOP OR HANDBAG UP TO 85LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE ANYTIME', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ECO TO BUSINESS', 'isChargeable': True, 'amenityType': 'UPGRADES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}, {'type': 'flight-offer', 'id': '4', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-24', 'lastTicketingDateTime': '2025-04-24', 'numberOfBookableSeats': 7, 'itineraries': [{'duration': 'PT2H30M', 'segments': [{'departure': {'iataCode': 'WAW', 'at': '2025-04-25T20:15:00'}, 'arrival': {'iataCode': 'CDG', 'terminal': '2D', 'at': '2025-04-25T22:45:00'}, 'carrierCode': 'LO', 'number': '333', 'aircraft': {'code': 'E90'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT2H30M', 'id': '4', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT2H15M', 'segments': [{'departure': {'iataCode': 'CDG', 'terminal': '2D', 'at': '2025-10-21T19:45:00'}, 'arrival': {'iataCode': 'WAW', 'at': '2025-10-21T22:00:00'}, 'carrierCode': 'LO', 'number': '336', 'aircraft': {'code': '73H'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT2H15M', 'id': '7', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'USD', 'total': '349.70', 'base': '224.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '349.70', 'additionalServices': [{'amount': '85.30', 'type': 'CHECKED_BAGS'}]}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': False}, 'validatingAirlineCodes': ['LO'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'USD', 'total': '349.70', 'base': '224.00'}, 'fareDetailsBySegment': [{'segmentId': '4', 'cabin': 'ECONOMY', 'fareBasis': 'VSAVI0', 'brandedFare': 'ECOSAVER', 'brandedFareLabel': 'ECONOMY SAVER', 'class': 'V', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'LAPTOP OR HANDBAG UP TO 85LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE ANYTIME', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ECO TO BUSINESS', 'isChargeable': True, 'amenityType': 'UPGRADES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '7', 'cabin': 'ECONOMY', 'fareBasis': 'LSAVI0', 'brandedFare': 'ECOSAVER', 'brandedFareLabel': 'ECONOMY SAVER', 'class': 'L', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'LAPTOP OR HANDBAG UP TO 85LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE ANYTIME', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ECO TO BUSINESS', 'isChargeable': True, 'amenityType': 'UPGRADES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}, {'type': 'flight-offer', 'id': '5', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-24', 'lastTicketingDateTime': '2025-04-24', 'numberOfBookableSeats': 4, 'itineraries': [{'duration': 'PT2H25M', 'segments': [{'departure': {'iataCode': 'WAW', 'at': '2025-04-25T16:25:00'}, 'arrival': {'iataCode': 'CDG', 'terminal': '2D', 'at': '2025-04-25T18:50:00'}, 'carrierCode': 'LO', 'number': '335', 'aircraft': {'code': '7M8'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT2H25M', 'id': '1', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT2H15M', 'segments': [{'departure': {'iataCode': 'CDG', 'terminal': '2D', 'at': '2025-10-21T07:05:00'}, 'arrival': {'iataCode': 'WAW', 'at': '2025-10-21T09:20:00'}, 'carrierCode': 'LO', 'number': '334', 'aircraft': {'code': 'E95'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT2H15M', 'id': '5', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'USD', 'total': '374.70', 'base': '249.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '374.70', 'additionalServices': [{'amount': '85.30', 'type': 'CHECKED_BAGS'}]}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': False}, 'validatingAirlineCodes': ['LO'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'USD', 'total': '374.70', 'base': '249.00'}, 'fareDetailsBySegment': [{'segmentId': '1', 'cabin': 'ECONOMY', 'fareBasis': 'SSAVI0', 'brandedFare': 'ECOSAVER', 'brandedFareLabel': 'ECONOMY SAVER', 'class': 'S', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'LAPTOP OR HANDBAG UP TO 85LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE ANYTIME', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ECO TO BUSINESS', 'isChargeable': True, 'amenityType': 'UPGRADES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '5', 'cabin': 'ECONOMY', 'fareBasis': 'LSAVI0', 'brandedFare': 'ECOSAVER', 'brandedFareLabel': 'ECONOMY SAVER', 'class': 'L', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'LAPTOP OR HANDBAG UP TO 85LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE ANYTIME', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ECO TO BUSINESS', 'isChargeable': True, 'amenityType': 'UPGRADES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}, {'type': 'flight-offer', 'id': '6', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-24', 'lastTicketingDateTime': '2025-04-24', 'numberOfBookableSeats': 7, 'itineraries': [{'duration': 'PT2H25M', 'segments': [{'departure': {'iataCode': 'WAW', 'at': '2025-04-25T16:25:00'}, 'arrival': {'iataCode': 'CDG', 'terminal': '2D', 'at': '2025-04-25T18:50:00'}, 'carrierCode': 'LO', 'number': '335', 'aircraft': {'code': '7M8'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT2H25M', 'id': '1', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT2H15M', 'segments': [{'departure': {'iataCode': 'CDG', 'terminal': '2D', 'at': '2025-10-21T19:45:00'}, 'arrival': {'iataCode': 'WAW', 'at': '2025-10-21T22:00:00'}, 'carrierCode': 'LO', 'number': '336', 'aircraft': {'code': '73H'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT2H15M', 'id': '7', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'USD', 'total': '374.70', 'base': '249.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '374.70', 'additionalServices': [{'amount': '85.30', 'type': 'CHECKED_BAGS'}]}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': False}, 'validatingAirlineCodes': ['LO'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'USD', 'total': '374.70', 'base': '249.00'}, 'fareDetailsBySegment': [{'segmentId': '1', 'cabin': 'ECONOMY', 'fareBasis': 'SSAVI0', 'brandedFare': 'ECOSAVER', 'brandedFareLabel': 'ECONOMY SAVER', 'class': 'S', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'LAPTOP OR HANDBAG UP TO 85LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE ANYTIME', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ECO TO BUSINESS', 'isChargeable': True, 'amenityType': 'UPGRADES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '7', 'cabin': 'ECONOMY', 'fareBasis': 'LSAVI0', 'brandedFare': 'ECOSAVER', 'brandedFareLabel': 'ECONOMY SAVER', 'class': 'L', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'LAPTOP OR HANDBAG UP TO 85LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE ANYTIME', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ECO TO BUSINESS', 'isChargeable': True, 'amenityType': 'UPGRADES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}, {'type': 'flight-offer', 'id': '7', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-25', 'lastTicketingDateTime': '2025-04-25', 'numberOfBookableSeats': 9, 'itineraries': [{'duration': 'PT2H30M', 'segments': [{'departure': {'iataCode': 'WAW', 'at': '2025-04-25T07:20:00'}, 'arrival': {'iataCode': 'CDG', 'terminal': '2D', 'at': '2025-04-25T09:50:00'}, 'carrierCode': 'LO', 'number': '331', 'aircraft': {'code': '7M8'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT2H30M', 'id': '3', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT2H20M', 'segments': [{'departure': {'iataCode': 'CDG', 'terminal': '2D', 'at': '2025-10-21T10:45:00'}, 'arrival': {'iataCode': 'WAW', 'at': '2025-10-21T13:05:00'}, 'carrierCode': 'LO', 'number': '332', 'aircraft': {'code': '73H'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT2H20M', 'id': '8', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'USD', 'total': '384.70', 'base': '259.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '384.70', 'additionalServices': [{'amount': '85.30', 'type': 'CHECKED_BAGS'}]}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': False}, 'validatingAirlineCodes': ['LO'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'USD', 'total': '384.70', 'base': '259.00'}, 'fareDetailsBySegment': [{'segmentId': '3', 'cabin': 'ECONOMY', 'fareBasis': 'VSAVI0', 'brandedFare': 'ECOSAVER', 'brandedFareLabel': 'ECONOMY SAVER', 'class': 'V', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'LAPTOP OR HANDBAG UP TO 85LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE ANYTIME', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ECO TO BUSINESS', 'isChargeable': True, 'amenityType': 'UPGRADES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '8', 'cabin': 'ECONOMY', 'fareBasis': 'VSAVI0', 'brandedFare': 'ECOSAVER', 'brandedFareLabel': 'ECONOMY SAVER', 'class': 'V', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'LAPTOP OR HANDBAG UP TO 85LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE ANYTIME', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ECO TO BUSINESS', 'isChargeable': True, 'amenityType': 'UPGRADES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}, {'type': 'flight-offer', 'id': '8', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-25', 'lastTicketingDateTime': '2025-04-25', 'numberOfBookableSeats': 9, 'itineraries': [{'duration': 'PT2H30M', 'segments': [{'departure': {'iataCode': 'WAW', 'at': '2025-04-25T20:15:00'}, 'arrival': {'iataCode': 'CDG', 'terminal': '2D', 'at': '2025-04-25T22:45:00'}, 'carrierCode': 'LO', 'number': '333', 'aircraft': {'code': 'E90'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT2H30M', 'id': '4', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT2H20M', 'segments': [{'departure': {'iataCode': 'CDG', 'terminal': '2D', 'at': '2025-10-21T10:45:00'}, 'arrival': {'iataCode': 'WAW', 'at': '2025-10-21T13:05:00'}, 'carrierCode': 'LO', 'number': '332', 'aircraft': {'code': '73H'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT2H20M', 'id': '8', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'USD', 'total': '384.70', 'base': '259.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '384.70', 'additionalServices': [{'amount': '85.30', 'type': 'CHECKED_BAGS'}]}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': False}, 'validatingAirlineCodes': ['LO'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'USD', 'total': '384.70', 'base': '259.00'}, 'fareDetailsBySegment': [{'segmentId': '4', 'cabin': 'ECONOMY', 'fareBasis': 'VSAVI0', 'brandedFare': 'ECOSAVER', 'brandedFareLabel': 'ECONOMY SAVER', 'class': 'V', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'LAPTOP OR HANDBAG UP TO 85LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE ANYTIME', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ECO TO BUSINESS', 'isChargeable': True, 'amenityType': 'UPGRADES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '8', 'cabin': 'ECONOMY', 'fareBasis': 'VSAVI0', 'brandedFare': 'ECOSAVER', 'brandedFareLabel': 'ECONOMY SAVER', 'class': 'V', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'LAPTOP OR HANDBAG UP TO 85LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE ANYTIME', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ECO TO BUSINESS', 'isChargeable': True, 'amenityType': 'UPGRADES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}, {'type': 'flight-offer', 'id': '9', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-25', 'lastTicketingDateTime': '2025-04-25', 'numberOfBookableSeats': 9, 'itineraries': [{'duration': 'PT2H25M', 'segments': [{'departure': {'iataCode': 'WAW', 'at': '2025-04-25T16:25:00'}, 'arrival': {'iataCode': 'CDG', 'terminal': '2D', 'at': '2025-04-25T18:50:00'}, 'carrierCode': 'LO', 'number': '335', 'aircraft': {'code': '7M8'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT2H25M', 'id': '1', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT2H20M', 'segments': [{'departure': {'iataCode': 'CDG', 'terminal': '2D', 'at': '2025-10-21T10:45:00'}, 'arrival': {'iataCode': 'WAW', 'at': '2025-10-21T13:05:00'}, 'carrierCode': 'LO', 'number': '332', 'aircraft': {'code': '73H'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT2H20M', 'id': '8', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'USD', 'total': '409.70', 'base': '284.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '409.70', 'additionalServices': [{'amount': '85.30', 'type': 'CHECKED_BAGS'}]}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': False}, 'validatingAirlineCodes': ['LO'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'USD', 'total': '409.70', 'base': '284.00'}, 'fareDetailsBySegment': [{'segmentId': '1', 'cabin': 'ECONOMY', 'fareBasis': 'SSAVI0', 'brandedFare': 'ECOSAVER', 'brandedFareLabel': 'ECONOMY SAVER', 'class': 'S', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'LAPTOP OR HANDBAG UP TO 85LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE ANYTIME', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ECO TO BUSINESS', 'isChargeable': True, 'amenityType': 'UPGRADES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '8', 'cabin': 'ECONOMY', 'fareBasis': 'VSAVI0', 'brandedFare': 'ECOSAVER', 'brandedFareLabel': 'ECONOMY SAVER', 'class': 'V', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'LAPTOP OR HANDBAG UP TO 85LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE ANYTIME', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ECO TO BUSINESS', 'isChargeable': True, 'amenityType': 'UPGRADES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}, {'type': 'flight-offer', 'id': '10', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-25', 'lastTicketingDateTime': '2025-04-25', 'numberOfBookableSeats': 9, 'itineraries': [{'duration': 'PT2H25M', 'segments': [{'departure': {'iataCode': 'WAW', 'at': '2025-04-25T19:20:00'}, 'arrival': {'iataCode': 'CDG', 'terminal': '2F', 'at': '2025-04-25T21:45:00'}, 'carrierCode': 'AF', 'number': '1047', 'aircraft': {'code': '223'}, 'operating': {'carrierCode': 'AF'}, 'duration': 'PT2H25M', 'id': '2', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT2H15M', 'segments': [{'departure': {'iataCode': 'CDG', 'terminal': '2F', 'at': '2025-10-21T09:40:00'}, 'arrival': {'iataCode': 'WAW', 'at': '2025-10-21T11:55:00'}, 'carrierCode': 'AF', 'number': '1146', 'aircraft': {'code': '223'}, 'operating': {'carrierCode': 'AF'}, 'duration': 'PT2H15M', 'id': '6', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'USD', 'total': '516.90', 'base': '390.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '516.90', 'additionalServices': [{'amount': '73.90', 'type': 'CHECKED_BAGS'}]}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': False}, 'validatingAirlineCodes': ['AF'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'USD', 'total': '516.90', 'base': '390.00'}, 'fareDetailsBySegment': [{'segmentId': '2', 'cabin': 'ECONOMY', 'fareBasis': 'QYL02ALA', 'brandedFare': 'LIGHT', 'brandedFareLabel': 'ECONOMY LIGHT', 'class': 'Q', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'CHECKED BAG 1PC OF 23KG 158CM', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SNACK', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'BEVERAGE', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SEAT SELECTION', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ELIGIBILITY', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '6', 'cabin': 'ECONOMY', 'fareBasis': 'TYL0AALA', 'brandedFare': 'LIGHT', 'brandedFareLabel': 'ECONOMY LIGHT', 'class': 'T', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'CHECKED BAG 1PC OF 23KG 158CM', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SNACK', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'BEVERAGE', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SEAT SELECTION', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ELIGIBILITY', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}], 'dictionaries': {'locations': {'CDG': {'cityCode': 'PAR', 'countryCode': 'FR'}, 'WAW': {'cityCode': 'WAW', 'countryCode': 'PL'}}, 'aircraft': {'E95': 'EMBRAER 195', '7M8': 'BOEING 737 MAX 8', '223': 'AIRBUS  A220-300', '73H': 'BOEING 737-800 (WINGLETS)', 'E90': 'EMBRAER 190'}, 'currencies': {'USD': 'US DOLLAR'}, 'carriers': {'LO': 'LOT POLISH AIRLINES', 'AF': 'AIR FRANCE'}}},
#           "FRA": {'meta': {'count': 1, 'links': {'self': 'https://test.api.amadeus.com/v2/shopping/flight-offers?originLocationCode=WAW&destinationLocationCode=TYO&departureDate=2025-04-25&returnDate=2025-10-21&adults=1&nonStop=true&currencyCode=USD&max=10'}}, 'data': [{'type': 'flight-offer', 'id': '1', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-25', 'lastTicketingDateTime': '2025-04-25', 'numberOfBookableSeats': 5, 'itineraries': [{'duration': 'PT12H50M', 'segments': [{'departure': {'iataCode': 'WAW', 'at': '2025-04-25T22:50:00'}, 'arrival': {'iataCode': 'NRT', 'terminal': '1', 'at': '2025-04-26T18:40:00'}, 'carrierCode': 'LO', 'number': '79', 'aircraft': {'code': '789'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT12H50M', 'id': '1', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT14H10M', 'segments': [{'departure': {'iataCode': 'NRT', 'terminal': '1', 'at': '2025-10-21T22:50:00'}, 'arrival': {'iataCode': 'WAW', 'at': '2025-10-22T06:00:00'}, 'carrierCode': 'LO', 'number': '80', 'aircraft': {'code': '788'}, 'operating': {'carrierCode': 'LO'}, 'duration': 'PT14H10M', 'id': '2', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'USD', 'total': '1543.20', 'base': '1142.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '1543.20', 'additionalServices': [{'amount': '193.20', 'type': 'CHECKED_BAGS'}]}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': False}, 'validatingAirlineCodes': ['LO'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'USD', 'total': '1543.20', 'base': '1142.00'}, 'fareDetailsBySegment': [{'segmentId': '1', 'cabin': 'ECONOMY', 'fareBasis': 'HLA00ENB', 'brandedFare': 'ECONOBAG', 'brandedFareLabel': 'ECONOMY NO BAG', 'class': 'H', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PREPAID TO 23KG OR EXC DIM', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'HOT DINNER', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'COMPLIMENTARY FOOD AND BEV', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE MEAL', 'isChargeable': True, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '2', 'cabin': 'ECONOMY', 'fareBasis': 'SLA30ENB', 'brandedFare': 'ECONOBAG', 'brandedFareLabel': 'ECONOMY NO BAG', 'class': 'S', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': '1 ST CHECKED BAG UP TO 23KG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PREPAID TO 23KG OR EXC DIM', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'HOT DINNER', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'COMPLIMENTARY FOOD AND BEV', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE MEAL', 'isChargeable': True, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}], 'dictionaries': {'locations': {'NRT': {'cityCode': 'TYO', 'countryCode': 'JP'}, 'WAW': {'cityCode': 'WAW', 'countryCode': 'PL'}}, 'aircraft': {'788': 'BOEING 787-8', '789': 'BOEING 787-9'}, 'currencies': {'USD': 'US DOLLAR'}, 'carriers': {'LO': 'LOT POLISH AIRLINES'}}},
#           "TYO": {'meta': {'count': 0, 'links': {'self': 'https://test.api.amadeus.com/v2/shopping/flight-offers?originLocationCode=WAW&destinationLocationCode=HKG&departureDate=2025-04-25&returnDate=2025-10-21&adults=1&nonStop=true&currencyCode=USD&max=10'}}, 'data': []},
#           }
# sheet_data = [{'city': 'Paris', 'lowestPrice': 390, 'iataCode': 'PAR', 'id': 2},
#               {'city': 'Frankfurt', 'lowestPrice': 42, 'iataCode': 'FRA', 'id': 3},
#               {'city': 'Tokyo', 'lowestPrice': 485, 'iataCode': 'TYO', 'id': 4},
#               ]
# for city in sheet_data:
#     flights_to_city = flights[city["iataCode"]]
#     if flights_to_city:
#         fd = FlightData(flights_to_city)
#         cheapest_flights = fd.find_cheapest_flights()
#         if cheapest_flights:
#             [notifyer.send_message(data) for data in cheapest_flights if city['lowestPrice'] < data['price']]
